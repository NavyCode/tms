<div class="d-flex flex-grow-1 h-100">
  <div class="d-flex flex-row flex-grow-1">
    <lefttoolbar [projectid]="0"></lefttoolbar>
    <div class="d-flex flex-column flex-grow-1">
      <navigation [(links)]="navigationLinks"></navigation>

      <div class="d-flex flex-row">
        <div style="padding: 10px 10px 0px 10px;">
          <div >
            <button type="button" class="btn btn-primary bi bi-plus-lg" (click)="this.showAddProjectWindow()"> New project</button>
          </div>
        </div>
      </div>
      <div class="d-flex flex-row flex-grow-1">
        <div style="width: 100%;">
            <div *ngFor="let p of data.projects"  
              style="float: left; border: solid 1px #cccccc; width: 380px; height: 200px;   margin: 20px 1px 0px 10px; padding: 20px;">

              <div style="height: 100%;  float: left; ">
                <img src="assets/images/core/project-icon.svg" class="rounded img-fluid d-block"
                  style="float: left; margin: 00px 20px 20px 00px" width="50" alt="Project">
              </div>
              <a [routerLink]="p.link.path" [queryParams]="p.link.params" >
                <h5 style="margin: 00px 0px 20px 0px">
                  {{ p.name }}
                </h5>
              </a>
              <div style="font-size: 11pt; min-height: 70px;">{{ p.comment }}</div>
              <div style="float: right"><img src="assets/images/tests/testplan-icon.svg"
                  class="rounded img-fluid d-block" style="float: left; margin: 20px 0px 0px 00px" width="25"
                  alt="Project">
                </div>
              </div>
        </div>



      </div>
    </div>
  </div>
</div>


<p-dialog header="Add project" (onShow)="this.FocusNewProjectName()" [(visible)]="data.isAddProjectModalVisible" [modal]="true" [style]="{width: '500px'}"
  [baseZIndex]="10000" [draggable]="false" [resizable]="false">
  <form>
    <div class="form-group">
      <label for="newProjectName">Name</label>
      <input name="newProjectName" type="text" id="tbNewProjectName" (keydown.enter)="this.addProject()"  class="form-control" [(ngModel)]="newProjectName" 
        placeholder="Name">
    </div>
    <div class="form-group">
      <label for="newProjectComment">Comment</label>
      <textarea name="newProjectComment" class="form-control" (keydown.enter)="this.addProject()"  [(ngModel)]="newProjectComment" 
        rows="3" placeholder="Comment"></textarea>
    </div>
  </form>
  <ng-template pTemplate="footer">

    <button type="button" class="btn btn-primary" (click)="this.addProject()" >Create</button>
  </ng-template>
</p-dialog>


<div style="position: absolute; bottom: 1px;" class="w-100 d-flex flex-row flex-grow-1 justify-content-center align-items-center">
  <div class="flex-column " style="width: 90%">
    <p-messages [value]="data.requests.messages"></p-messages>
  </div>
</div> 

<router-outlet></router-outlet>